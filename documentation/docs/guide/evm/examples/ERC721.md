---
title: ERC721 Example
keywords:
- Smart Contracts
- EVM
- Solidity
- ERC721
- eip-721
- NFT
- non fungible token
- mint token
- mint NFT
- Truffle
description: Solidity smart contract ERC721. Deploy a non-fungible token (NFT) on IOTA Smart Contracts.
image: /img/logo/WASP_logo_dark.png
---

## Deploy a non-fungible token (NFT) on IOTA Smart Contracts

In this tutorial we will create an Smart Contract based non-fungible token (NFT).

Note: In IOTA there are two different kind of NFTs:
- Native NFTs (Layer 1), which are part of the protocol. That means, you can transfer without any fees.
- Smart Contract based NFTs (Layer 2), like ERC721. This NFT can be just transfered within the cluster and the cluster owner can decide the amount of fees. 

ERC721 is an [Ethereum Standard](https://eips.ethereum.org/EIPS/eip-721) for representing ownership of non-fungible tokens. NFTs, also known as Digital Assets, where each token is unique such as in real estate or collectibles.

We dont reinvent the wheel here and use the open-source Smart contracts from [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts/3.x/) to create an ERC721 and deploy using [Truffle](https://github.com/trufflesuite/truffle).

Truffle is a development environment, testing framework and asset pipeline for Ethereum, and also can be used to work with the Ethereum Virtual Machine (EVM) on IOTA Smart Contracts. 

## Setting up the Environment


We begin by creating a new project.

```bash=
$ mkdir my-first-iota-nft && cd my-first-iota-nft
$ npm init -y
```
Then we install [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts) library which has an implementation of ERC721.

```bash=
$ npm i --save-dev @openzeppelin/contracts

```


Next we install a Truffle.

```bash=
$ npm i truffle
```

## Prepare Smart Contracts


We will setup our Solidity project using `truffle init` to create a `contracts` directory and configuration to connect to a network.


```bash=
$ npx truffle init
Starting init...
================

> Copying project files to

Init successful, sweet!
```

We will use Preset `ERC721PresetMinterPauserAutoId` which is an ERC721 that is preset so it can be minted (with auto token ID and metadata URI), paused and burned.

The Preset contracts have already been compiled, so we only need to copy the artifacts to the build/contracts directory.

```bash=
$ mkdir -p build/contracts/
$ cp node_modules/@openzeppelin/contracts/build/contracts/* build/contracts/
```

Using your favorite editor create 2_deploy.js in the migrations directory with the following contents:


```solidity=
// migrations/2_deploy.js
// SPDX-License-Identifier: MIT
const ERC721PresetMinterPauserAutoId = artifacts.require("ERC721PresetMinterPauserAutoId");

module.exports = function(deployer) {
  deployer.deploy(ERC721PresetMinterPauserAutoId, "My NFT","NFT", "http://my-json-server.typicode.com/huangsuyu/nft/tokens");
};
```

## Deploy the contract

To deploy, we will use the instructions for Connecting to Public Test Networks with Truffle

You will need the following:

- @truffle/hdwallet-provider installed
- Configure truffle-config.js for Rinkeby network
- A funded testnet account and mnemonic
- A secrets.json or another secret-management solution. **Make sure you donâ€™t commit this to GitHub!**

The truffle-config.js has the following configuration:

```json=
     testnet: {
      provider: () => new HDWalletProvider(mnemonic, `https://data-seed-prebsc-1-s1.binance.org:8545`),
      network_id: 97,
      confirmations: 10,
      timeoutBlocks: 200,
      skipDryRun: true
    }

```

## Deploy to the IOTA EVM Testnet

```bash=
$ npx truffle migrate --network testnet
```

:::danger
TODO: Show logs
:::


## Mint the first NFT

We can send a transaction to mint tokens to a given account, from an account with the minter role.

```bash=
truffle(develop)> nft = await ERC721PresetMinterPauserAutoId.deployed()
undefined
```

In our case we are minting from the account which deployed the token, which is given the minter role.

To see configured accounts run the command accounts.

```bash=
truffle(rinkeby)> accounts
[ '0x133d144f52705ceb3f5801b63b9ebccf4102f5ed',
```

We will mint 1 NFT with token ID 1. Specify the address that you want to be the token holder (**<<PUT_ADDRESS_HERE>>** is one of my test accounts)

```bash=
truffle(rinkeby)> await nft.mint("0x133d144f52705ceb3f5801b63b9ebccf4102f5ed")
...
```
:::danger
TODO: Show logs
:::



---

Thanks to the creator of [this article](https://forum.openzeppelin.com/t/create-an-nft-and-deploy-to-a-public-testnet-using-truffle/2961) for the inspiration!